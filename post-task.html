<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post a Task | Victor</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
    }
    
    .form-input {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      transition: all 0.2s;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    
    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background-color: #2563eb;
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #1d4ed8;
    }
    
    .btn-outline {
      border: 1px solid #d1d5db;
      color: #4b5563;
    }
    
    .btn-outline:hover {
      background-color: #f9fafb;
    }
    
    .card {
      background-color: white;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      border: 1px solid rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }
    
    #description-editor {
      min-height: 150px;
      max-height: 350px;
      overflow-y: auto;
      border-radius: 0 0 0.5rem 0.5rem;
      padding: 1rem;
      border: 1px solid #d1d5db;
      border-top: none;
    }
    
    #description-editor:empty:before {
      content: attr(placeholder);
      color: #9ca3af;
      pointer-events: none;
    }
    
    #description-editor:focus {
      outline: none;
      border-color: #3b82f6;
    }
    
    .form-section {
      padding: 1.5rem;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .section-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 1rem;
    }
    
    .input-group {
      margin-bottom: 1.25rem;
    }
    
    .input-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    
    .input-hint {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 0.5rem;
    }
    
    /* Success modal styling */
    #success-modal {
      transition: opacity 0.3s ease-out;
      opacity: 1;
    }
    
    #success-modal-content {
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
      transform: scale(1);
      opacity: 1;
    }
    
    #success-modal.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    #success-modal-content.hidden {
      opacity: 0;
      transform: scale(0.95);
    }
    
    /* Animation for checkmark */
    @keyframes checkmark {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .checkmark-animation {
      animation: checkmark 0.5s ease-in-out forwards;
    }
    
    /* File drop area */
    #file-drop-area {
      border: 2px dashed #d1d5db;
      border-radius: 0.5rem;
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    #file-drop-area:hover {
      background-color: #f9fafb;
      border-color: #9ca3af;
    }
    
    /* Tips section */
    .tip-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 0.75rem;
    }
    
    .tip-icon {
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.25rem;
      height: 1.25rem;
      border-radius: 9999px;
      background-color: #dbeafe;
      margin-right: 0.75rem;
    }
    
    .tip-text {
      flex-grow: 1;
      font-size: 0.875rem;
      color: #4b5563;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 left-0 right-0 z-30">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <a href="index.html" class="flex items-center space-x-2">
          <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white font-bold">V</div>
          <span class="font-bold text-xl text-gray-900">Victor</span>
        </a>
        
        <!-- Nav Links - Desktop -->
        <nav class="hidden md:flex items-center space-x-6">
          <a href="index.html" class="text-gray-600 hover:text-blue-600">Home</a>
          <a href="tasks.html" class="text-gray-600 hover:text-blue-600">Browse Tasks</a>
          <a href="post-task.html" class="text-blue-600 font-medium">Post a Task</a>
          <a href="dashboard.html" class="text-gray-600 hover:text-blue-600">Dashboard</a>
        </nav>
        
        <!-- User Menu -->
        <div class="flex items-center space-x-3">
          <div class="relative" id="user-menu">
            <button type="button" class="flex items-center space-x-2" id="user-menu-button">
              <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-medium" id="user-avatar">U</div>
              <span class="font-medium text-sm hidden md:block" id="username-display">Username</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            
            <!-- Dropdown Menu (hidden by default) -->
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 hidden z-40" id="user-dropdown">
              <div class="px-4 py-2 border-b border-gray-100">
                <p class="text-sm font-medium text-gray-900" id="dropdown-name">User Name</p>
                <p class="text-xs text-gray-500 truncate" id="dropdown-email">user@example.com</p>
              </div>
              <a href="dashboard.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Dashboard</a>
              <a href="profile.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
              <div class="border-t border-gray-100 my-1"></div>
              <button id="logout-button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                Sign out
              </button>
            </div>
          </div>
          
          <!-- Mobile menu button -->
          <button type="button" class="md:hidden p-2" id="mobile-menu-button">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Mobile Menu (hidden by default) -->
    <div class="md:hidden hidden bg-white border-t border-gray-100" id="mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1">
        <a href="index.html" class="block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-50">Home</a>
        <a href="tasks.html" class="block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-50">Browse Tasks</a>
        <a href="post-task.html" class="block px-3 py-2 rounded-md text-blue-600 bg-blue-50">Post a Task</a>
        <a href="dashboard.html" class="block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-50">Dashboard</a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="py-10 flex-grow">
    <div class="container mx-auto px-4 max-w-4xl">
      <!-- Post Task Page Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Post a New Task</h1>
        <p class="text-gray-600 max-w-2xl mx-auto">Describe your task in detail to find the perfect person for the job. The more details you provide, the more relevant offers you'll receive.</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Left Column: Form -->
        <div class="md:col-span-2">
          <!-- Task Form -->
          <form id="task-form" class="card overflow-hidden mb-8">
            <!-- Task Details Section -->
            <div class="form-section">
              <h2 class="section-title">Task Details</h2>
              
              <!-- Task Title -->
              <div class="input-group">
                <label for="title" class="input-label">Task Title <span class="text-red-500">*</span></label>
                <input type="text" id="title" name="title" class="form-input" placeholder="E.g., Website Development, Home Cleaning, Math Tutoring" required>
                <p class="input-hint">Be clear and specific (max 75 characters)</p>
              </div>
              
              <!-- Description -->
              <div class="input-group">
                <label for="description-editor" class="input-label">Description <span class="text-red-500">*</span></label>
                <div class="rounded-lg overflow-hidden border border-gray-300">
                  <!-- Editor Toolbar -->
                  <div class="flex items-center gap-1 bg-gray-50 px-3 py-2 border-b border-gray-300">
                    <button type="button" data-format="bold" class="p-1.5 rounded hover:bg-gray-100 text-gray-600">
                      <i class="fas fa-bold"></i>
                    </button>
                    <button type="button" data-format="italic" class="p-1.5 rounded hover:bg-gray-100 text-gray-600">
                      <i class="fas fa-italic"></i>
                    </button>
                    <button type="button" data-format="underline" class="p-1.5 rounded hover:bg-gray-100 text-gray-600">
                      <i class="fas fa-underline"></i>
                    </button>
                    <span class="border-r border-gray-300 h-6 mx-2"></span>
                    <button type="button" data-format="insertUnorderedList" class="p-1.5 rounded hover:bg-gray-100 text-gray-600">
                      <i class="fas fa-list-ul"></i>
                    </button>
                    <button type="button" data-format="insertOrderedList" class="p-1.5 rounded hover:bg-gray-100 text-gray-600">
                      <i class="fas fa-list-ol"></i>
                    </button>
                  </div>
                  
                  <!-- Editable Content Area -->
                  <div id="description-editor" class="p-4 border border-gray-300 border-t-0 rounded-b-lg" contenteditable="true" placeholder="Describe your task in detail. What needs to be done? What skills are required?"></div>
                </div>
                <input type="hidden" id="description" name="description">
                <p class="input-hint">Provide all necessary details (min 30 characters)</p>
              </div>
            </div>
            
            <!-- Task Specifications -->
            <div class="form-section">
              <h2 class="section-title">Task Specifications</h2>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Category -->
                <div class="input-group">
                  <label for="category" class="input-label">Category <span class="text-red-500">*</span></label>
                  <select id="category" name="category" class="form-input" required>
                    <option value="" disabled selected>Select a category</option>
                    <option value="Home Services">Home Services</option>
                    <option value="Delivery">Delivery & Moving</option>
                    <option value="IT & Tech">IT & Technology</option>
                    <option value="Tutoring">Tutoring & Education</option>
                    <option value="Events">Events & Photography</option>
                    <option value="Design">Design & Creative</option>
                    <option value="Business">Business Services</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                
                <!-- Location -->
                <div class="input-group">
                  <label for="location" class="input-label">Location <span class="text-red-500">*</span></label>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="fas fa-map-marker-alt text-gray-400"></i>
                    </div>
                    <input type="text" id="location" name="location" class="form-input pl-10" placeholder="Enter city or 'Remote'" required>
                  </div>
                  <p class="input-hint">Type "Remote" if location doesn't matter</p>
                </div>
              </div>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                <!-- Budget -->
                <div class="input-group">
                  <label for="budget" class="input-label">Budget (â‚¹)</label>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="fas fa-rupee-sign text-gray-400"></i>
                    </div>
                    <input type="number" id="budget" name="budget" class="form-input pl-10" placeholder="Enter amount" min="0">
                  </div>
                  <p class="input-hint">Leave blank if price is negotiable</p>
                </div>
                
                <!-- Deadline -->
                <div class="input-group">
                  <label for="deadline" class="input-label">Deadline</label>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="fas fa-calendar text-gray-400"></i>
                    </div>
                    <input type="date" id="deadline" name="deadline" class="form-input pl-10">
                  </div>
                  <p class="input-hint">When does this task need to be completed?</p>
                </div>
              </div>
            </div>
            
            <!-- Additional Options -->
            <div class="form-section">
              <h2 class="section-title">Additional Options</h2>
              
              <!-- Attachments -->
              <div class="input-group">
                <label class="input-label">Attachments (Optional)</label>
                <div id="file-drop-area" class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 cursor-pointer">
                  <input type="file" id="file-input" class="hidden" multiple>
                  <div class="text-blue-600 mb-2">
                    <i class="fas fa-cloud-upload-alt text-3xl"></i>
                  </div>
                  <p class="text-gray-700 mb-1">Drag files here or click to upload</p>
                  <p class="text-xs text-gray-500">JPG, PNG, PDF up to 5MB each</p>
                </div>
                <div id="file-preview-container" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 hidden"></div>
              </div>
              
              <!-- Task Privacy -->
              <div class="flex items-start mt-5">
                <div class="flex h-5 items-center">
                  <input type="checkbox" id="private-task" name="private-task" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                </div>
                <div class="ml-3">
                  <label for="private-task" class="text-sm font-medium text-gray-700">Make this task private</label>
                  <p class="text-xs text-gray-500">Private tasks are only visible to specific users or by invitation</p>
                </div>
              </div>
            </div>
            
            <!-- Form Buttons -->
            <div class="p-6 bg-gray-50 flex flex-wrap gap-3 justify-end">
              <button type="button" id="save-draft-button" class="btn btn-outline">
                <i class="fas fa-save mr-2"></i>Save Draft
              </button>
              <button type="button" id="preview-button" class="btn btn-outline">
                <i class="fas fa-eye mr-2"></i>Preview
              </button>
              <button type="submit" id="submit-button" class="btn btn-primary">
                <i class="fas fa-paper-plane mr-2"></i>Post Task
              </button>
            </div>
          </form>
        </div>

        <!-- Right Column: Tips and Help -->
        <div class="md:col-span-1">
          <!-- Tips Section -->
          <div class="card p-5 mb-6">
            <h3 class="font-semibold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-lightbulb text-yellow-500 mr-2"></i> 
              Tips for Success
            </h3>
            <ul class="space-y-3">
              <li class="flex items-start">
                <div class="shrink-0 h-5 w-5 rounded-full bg-blue-100 flex items-center justify-center mr-2 mt-0.5">
                  <i class="fas fa-check text-blue-600 text-xs"></i>
                </div>
                <span class="text-sm text-gray-700">Be specific about what needs to be done</span>
              </li>
              <li class="flex items-start">
                <div class="shrink-0 h-5 w-5 rounded-full bg-blue-100 flex items-center justify-center mr-2 mt-0.5">
                  <i class="fas fa-check text-blue-600 text-xs"></i>
                </div>
                <span class="text-sm text-gray-700">Include any qualifications needed</span>
              </li>
              <li class="flex items-start">
                <div class="shrink-0 h-5 w-5 rounded-full bg-blue-100 flex items-center justify-center mr-2 mt-0.5">
                  <i class="fas fa-check text-blue-600 text-xs"></i>
                </div>
                <span class="text-sm text-gray-700">Set a realistic budget for the task</span>
              </li>
              <li class="flex items-start"></li>
                <div class="shrink-0 h-5 w-5 rounded-full bg-blue-100 flex items-center justify-center mr-2 mt-0.5">
                  <i class="fas fa-check text-blue-600 text-xs"></i>
                </div>
                <span class="text-sm text-gray-700">Add photos or documents if helpful</span>
              </li>
            </ul>
          </div>
          
          <!-- Task Examples -->
          <div class="card p-5 mb-6">
            <h3 class="font-semibold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-star text-blue-500 mr-2"></i> 
              Example Tasks
            </h3>
            <div class="space-y-3">
              <div class="p-3 bg-blue-50 rounded-md">
                <p class="font-medium text-blue-700 text-sm">Website bug fixing needed</p>
                <p class="text-gray-600 text-xs mt-1">Need someone with WordPress experience to fix menu display issues and optimize site speed</p>
              </div>
              <div class="p-3 bg-blue-50 rounded-md">
                <p class="font-medium text-blue-700 text-sm">Move furniture to new apartment</p>
                <p class="text-gray-600 text-xs mt-1">Looking for help moving a sofa and two bookshelves to my new place 2km away</p>
              </div>
            </div>
          </div>
          
          <!-- FAQ -->
          <div class="card p-5">
            <h3 class="font-semibold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-question-circle text-green-500 mr-2"></i> 
              FAQ
            </h3>
            <div class="space-y-3">
              <div>
                <p class="font-medium text-gray-800 text-sm">How soon will I get responses?</p>
                <p class="text-gray-600 text-xs mt-1">Most tasks receive their first responses within 30 minutes to 2 hours.</p>
              </div>
              <div>
                <p class="font-medium text-gray-800 text-sm">Is my payment secure?</p>
                <p class="text-gray-600 text-xs mt-1">Yes, payment is only released when you're satisfied with the completed task.</p>
              </div>
              <div>
                <p class="font-medium text-gray-800 text-sm">Can I edit my task later?</p>
                <p class="text-gray-600 text-xs mt-1">Yes, you can edit your task details until someone starts working on it.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Success Modal (fixed positioning, initially hidden) -->
  <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
    <div id="success-modal-content" class="bg-white rounded-xl shadow-xl max-w-md w-full p-6 transform scale-95 opacity-0">
      <div class="text-center">
        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-green-100 mb-6">
          <i class="fas fa-check-circle text-green-500 text-4xl checkmark-animation"></i>
        </div>
        <h2 class="text-2xl font-bold text-gray-900 mb-3">Task Posted Successfully!</h2>
        <p class="text-gray-600 mb-6" id="success-message">Your task has been posted and is now available for offers.</p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="#" id="view-task-button" class="btn btn-primary w-full sm:w-auto">
            <i class="fas fa-eye mr-2"></i>View Task
          </a>
          <a href="dashboard.html" class="btn btn-outline w-full sm:w-auto">
            <i class="fas fa-tachometer-alt mr-2"></i>Go to Dashboard
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Preview Modal (hidden by default) -->
  <div id="preview-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
    <div class="bg-white rounded-xl shadow-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-hidden flex flex-col">
      <div class="flex justify-between items-center pb-3 border-b border-gray-200 mb-4">
        <h3 class="text-xl font-bold text-gray-900">Task Preview</h3>
        <button id="close-preview" class="text-gray-400 hover:text-gray-600 focus:outline-none">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="overflow-y-auto flex-grow" id="preview-content"></div>
      
      <div class="pt-4 mt-4 border-t border-gray-200 flex justify-end space-x-3">
        <button id="preview-edit-button" class="btn btn-outline">
          <i class="fas fa-pencil-alt mr-2"></i> Edit
        </button>
        <button id="preview-publish-button" class="btn btn-primary">
          <i class="fas fa-paper-plane mr-2"></i> Publish Task
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 mt-auto">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between">
        <div class="mb-6 md:mb-0">
          <a href="index.html" class="text-2xl font-bold flex items-center">
            <div class="bg-white text-blue-600 w-8 h-8 rounded flex items-center justify-center mr-2">V</div>
            Victor
          </a>
          <p class="mt-2 text-gray-400">Connect for Tasks, Anytime, Anywhere</p>
        </div>
        <div class="text-center md:text-right">
          <p class="text-gray-400">&copy; 2023 Victor. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/post-task.js"></script>
  <script src="js/file-handler.js"></script>
  <script src="js/notification-handler.js"></script>
  <script src="js/post-task-handlers.js"></script>
</body>
</html>
